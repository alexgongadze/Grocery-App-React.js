<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<!-- REACT LIBRARY -->
	<script src="https://unpkg.com/react@15.5.4/dist/react.js"></script>
	<!-- REACT DOM LIBRARY -->
	<script src="https://unpkg.com/react-dom@15.5.4/dist/react-dom.js"></script>
	<!-- BABEL LIBRARY -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.25.0/babel.min.js"></script>
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<!-- Open Sans -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
	<!-- Main Styles -->
	<link rel="stylesheet" href="style.css">
	<title>Grocery App</title>
</head>
<body>

	<div id="app">React has not rendered yet</div>
	
	<script type="text/babel">

		let listArr = [ /* no ajax */
			{id: 1, name: "bread"},
			{id: 2, name: "bacon"},
			{id: 3, name: "cheese"},
			{id: 4, name: "tomato"},
			{id: 5, name: "onion"},
			{id: 6, name: "cucumber"},
			{id: 7, name: "mushrooms"},
			{id: 8, name: "sauce"}
		]

		const Container = () => {
			return(
				<div className="groc-container">
					<Header/>
					<Main/>
					<Footer/>
				</div>
			);
		};

			const Header = () => <header className="groc-header">header</header>;
			
			const Footer = () => <footer className="groc-footer">footer</footer>;		

/*			class Main extends React.Component {
			
				constructor() {
					super();
					this.state = {
						listState: listArr
					};
				}
				
				_getItems() {
					return this.state.listState.map(item => <Item key={item.id} name={item.name} />);
				}
				
				render() {
					
					const items = this._getItems();

					return(*/
			const Main = () => ( /* no ajax */
						<main className="groc-main">
							<ul className="groc-list">
								{/* items */}
								{listArr.map(item => <Item key={item.id} name={item.name} />)/* no ajax */}
							</ul>
						</main>
					);
/*				}
			}*/


				class Item extends React.Component {
			
					constructor(props) {
						super(props);
						this.state = {
							isOpenedLeft: false,
							isOpenedRight: false
						};
					}

					toggleStateLeft() {
						this.setState({
//							isOpenedRight: false,
							isOpenedLeft: !this.state.isOpenedLeft
						});
					}

					toggleStateRight() {
						this.setState({
//							isOpenedLeft: false,
							isOpenedRight: !this.state.isOpenedRight
						});
					}

					addToCart() {
						alert(`${this.props.name} is added to cart`);
					}

					goHome() {
						alert(`${this.props.name} goes home`);
					}
				
					render() {
					
						let className = "";

						if (this.state.isOpenedLeft) {
							className = " opened-left";
						}
						
						if (this.state.isOpenedRight) {
							className = " opened-right";
						}

						return(
							<li className={"groc-list__item" + className}>
								<i className="fa fa-shopping-cart groc-list__item__icon" aria-hidden="true" onClick={this.addToCart.bind(this)}></i>
								<i className="fa fa-home groc-list__item__icon" aria-hidden="true" onClick={this.goHome.bind(this)}></i>
								<span>
									<i className="fa fa-angle-left" aria-hidden="true" onClick={this.toggleStateLeft.bind(this)}></i>
									{this.props.name}
									<i className="fa fa-angle-right" aria-hidden="true" onClick={this.toggleStateRight.bind(this)}></i>
								</span>
							</li>
						);
					}

				}

		ReactDOM.render(
			<Container/>,
			document.getElementById("app")
		);

	</script>
</body>
</html>